<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ETS2 Save Editor U+002d Alex Edition</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- Hier kann optional ein Favicon oder Preconnects eingef√ºgt werden -->
  </head>
  <body>
    <header class="main-header">
      <div class="logo">
        <img src="images/xlLogo.png" alt="ets2Logo" />
        <div class="logo-text">
          <span class="logo-title">SAVE EDITOR</span>
          <span class="logo-subtitle">for SCS - xLieferant</span>
        </div>
      </div>
      <nav class="nav-wrapper">
        <div class="nav-main">
          <button class="nav-btn" data-tab="truck">üöõTruck</button>
          <button class="nav-btn" data-tab="trailer">üööTrailer</button>
          <button class="nav-btn active" data-tab="profile">üí†Profile</button>
          <button class="nav-btn" data-tab="settings">‚öôÔ∏èSettings</button>
          <div id="updateStatus" class="update-status"></div>
        </div>

        <div class="nav-bottom">
          <button id="youtubeBtn" class="nav-action youtube">üî¥ YouTube</button>
          <button id="patreonBtn" class="nav-action patreon">‚ö†Ô∏è Patreon</button>
          <button id="githubBtn" class="nav-action github">‚ö†Ô∏è GitHub</button>
          <button id="versionBtn" class="version-btn">0.2.4</button>
        </div>
      </nav>
    </header>

    <main id="tool-container">
      <!-- Tools werden per JS geladen (standardm√§√üig 'truck') -->
    </main>

    <!-- Statusmeldung f√ºr Profile (au√üerhalb des Footers positioniert, damit sie Platz hat) -->
    <p
      id="profile-status"
      style="margin: 10px 25px 0; font-size: 0.8em; color: #0ff"
    ></p>

    <footer class="profile-bar">
      <div class="game-switch">
        <button id="ets2Btn" class="active">
          <img src="images/ets2_32x32.png" alt="ets2Logo" sizes="15px" />
          <span>ETS2</span>
        </button>
        <button id="atsBtn" disabled>
          <img
            src="images/ats_32x32.png"
            alt="ats Logo"
            class="switchButtonLogo"
          />
          <span>ATS</span>
        </button>
      </div>

      <!-- Die Struktur f√ºr das benutzerdefinierte Dropdown-Men√º -->
      <div class="profile-picker">
        <span id="profileNameDisplay">Select a profile</span>
        <button id="openProfileModal">‚ñº</button>
        <!-- Container f√ºr die dynamisch generierte Dropdown-Liste -->
        <div id="profileDropdownList" class="custom-dropdown-list">
          <!-- Profile werden hier durch JS eingef√ºgt -->
        </div>
      </div>

      <div class="save-picker">
        <span id="saveName">Select a save</span>
        <button id="openSaveModal">‚ñº</button>

        <div id="saveDropdownList" class="dropdown-list"></div>
      </div>

      <button
        id="cloneProfileBtn"
        class="refresh-btn"
        title="Clone Profile"
        style="margin-right: 5px"
      >
        üëØ
      </button>
      <button id="refreshBtn" class="refresh-btn">‚ü≥</button>
    </footer>

    <!-- MODAL: Text-Input -->
    <div class="modal-backdrop" id="modalText">
      <div class="modal-box">
        <h2 id="modalTextTitle">Modal Title</h2>
        <input id="modalTextInput" type="text" placeholder="" />
        <div class="modal-actions">
          <button id="modalTextCancel">Close</button>
          <button id="modalTextApply" class="apply">Apply</button>
        </div>
      </div>
    </div>

    <!-- MODAL: Number-Input -->
    <div class="modal-backdrop" id="modalNumber">
      <div class="modal-box">
        <h2 id="modalNumberTitle">Modal Title</h2>
        <input id="modalNumberInput" type="number" placeholder="" />
        <div class="modal-actions">
          <button id="modalNumberCancel">Close</button>
          <button id="modalNumberApply" class="apply">Apply</button>
        </div>
      </div>
    </div>

    <!-- MODAL: Slider/Checkbox Input -->
    <div class="modal-backdrop" id="modalSlider">
      <div class="modal-box">
        <h2 id="modalSliderTitle">Modal Title</h2>
        <input id="modalSliderInput" type="checkbox" class="toggle-checkbox" />
        <label for="modalSliderInput" class="checkboxSlider"></label>
        <div class="modal-actions">
          <button id="modalSliderCancel">Close</button>
          <button id="modalSliderApply" class="apply">Apply</button>
        </div>
      </div>
    </div>

    <!-- MODAL: Multi Input (Dropdown, Slider, Number) -->
    <div class="modal-backdrop" id="modalMulti">
      <div class="modal-box">
        <h2 id="modalMultiTitle"></h2>
        <div id="modalMultiContent"></div>
        <div class="modal-actions">
          <button id="modalMultiCancel">Close</button>
          <button id="modalMultiApply" class="apply">Apply</button>
        </div>
      </div>
    </div>

    <!-- MODAL: Clone Profile -->
    <div class="modal-backdrop" id="modalClone">
      <div class="modal-box">
        <h2 class="modal-title">Clone Profile</h2>

        <p id="cloneSourceDisplay" class="modal-subtitle"></p>

        <div class="modal-field">
          <input
            id="cloneNameInput"
            type="text"
            placeholder="New Profile Name"
            class="modal-input"
          />
          <div id="cloneValidationMsg" class="modal-validation"></div>
        </div>

        <div class="clone-options">
          <label class="checkbox-row">
            <input type="checkbox" id="cloneBackup" checked />
            <span>Create Backup of Source (.zip)</span>
          </label>

          <label class="checkbox-row">
            <input type="checkbox" id="cloneReplaceHex" checked />
            <span>Replace Hex Identifiers (Recommended)</span>
          </label>

          <label class="checkbox-row">
            <input type="checkbox" id="cloneReplaceText" checked />
            <span>Replace Text Names</span>
          </label>
        </div>

        <div class="modal-actions">
          <button id="modalCloneCancel" class="btn secondary">Cancel</button>
          <button id="modalCloneApply" class="btn primary" disabled>
            Clone
          </button>
        </div>
      </div>
    </div>

    <!-- Nur noch main.js als Modul laden. Es k√ºmmert sich um den Import der anderen Skripte. -->
    <script type="module" src="main.js" defer></script>
  </body>
</html>
